<div class="container mt-4">
  <h2 class="text-center text-break">Администратор - Управљање корисницима</h2>

  <div class="mt-5">
    <h4>
      <span class="badge badge-pending text-dark text-wrap text-break">Захтеви за регистрацијом</span>
    </h4>
    <div class="table-responsive">
      <table class="table table-bordered table-hover align-middle table-pending">
        <thead>
          <tr>
            <th>Корисничко име</th>
            <th>Тип корисника</th>
            <th>Име</th>
            <th>Презиме</th>
            <th>Пол</th>
            <th>Адреса</th>
            <th>Контакт телефон</th>
            <th>Е-мејл</th>
            <th>Профилна слика</th>
            <th>Број кредитне картице</th>
            <th>Акције</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let nonadmin of getNonadminsByStatus('PENDING')">
            <td>{{ nonadmin.username }}</td>
            <td>{{ nonadmin.userType }}</td>
            <td>{{ nonadmin.firstName }}</td>
            <td>{{ nonadmin.lastName }}</td>
            <td>{{ nonadmin.gender }}</td>
            <td>{{ nonadmin.address }}</td>
            <td>{{ nonadmin.phoneNumber }}</td>
            <td>{{ nonadmin.email }}</td>
            <td>
              <div class="profile-preview mx-auto">
                <img
                  *ngIf="nonadmin.profilePicturePath"
                  [src]="getImageUrl(nonadmin.profilePicturePath)"
                  alt="Профилна слика"
                >
              </div>
            </td>
            <td>{{ getCreditCardNumberDisplay(nonadmin.creditCardNumberLast4Digits) }}</td>
            <td>
              <div class="d-flex flex-wrap gap-2">
                <button class="btn btn-success btn-sm" (click)="acceptNonadmin(nonadmin.id)">Прихвати</button>
                <button class="btn btn-danger btn-sm" (click)="rejectNonadmin(nonadmin.id)">Одбиј</button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="mt-5">
    <h4>
      <span class="badge badge-accepted text-dark text-wrap text-break">Одобрени корисници</span>
    </h4>
    <div class="table-responsive">
      <table class="table table-bordered table-hover align-middle table-accepted">
        <thead>
          <tr>
            <th>Корисничко име</th>
            <th>Тип корисника</th>
            <th>Име</th>
            <th>Презиме</th>
            <th>Пол</th>
            <th>Адреса</th>
            <th>Контакт телефон</th>
            <th>Е-мејл</th>
            <th>Профилна слика</th>
            <th>Број кредитне картице</th>
            <th>Акције</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let nonadmin of getNonadminsByStatus('ACCEPTED')">
            <td>{{ nonadmin.username }}</td>
            <td>{{ nonadmin.userType }}</td>
            <td>{{ nonadmin.firstName }}</td>
            <td>{{ nonadmin.lastName }}</td>
            <td>{{ nonadmin.gender }}</td>
            <td>{{ nonadmin.address }}</td>
            <td>{{ nonadmin.phoneNumber }}</td>
            <td>{{ nonadmin.email }}</td>
            <td>
              <div class="profile-preview mx-auto">
                <img
                  *ngIf="nonadmin.profilePicturePath"
                  [src]="getImageUrl(nonadmin.profilePicturePath)"
                  alt="Профилна слика"
                >
              </div>
            </td>
            <td>{{ getCreditCardNumberDisplay(nonadmin.creditCardNumberLast4Digits) }}</td>
            <td>
              <div class="d-flex flex-wrap gap-2">
                <button class="btn btn-primary btn-sm" (click)="openEditModal(nonadmin)">Измени</button>
                <button class="btn btn-danger btn-sm" (click)="deactivateNonadmin(nonadmin.id)">Деактивирај</button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="mt-5">
    <h4>
      <span class="badge badge-deactivated text-dark text-wrap text-break">Деактивирани корисници</span>
    </h4>
    <div class="table-responsive">
      <table class="table table-bordered table-hover align-middle table-deactivated">
        <thead>
          <tr>
            <th>Корисничко име</th>
            <th>Тип корисника</th>
            <th>Име</th>
            <th>Презиме</th>
            <th>Пол</th>
            <th>Адреса</th>
            <th>Контакт телефон</th>
            <th>Е-мејл</th>
            <th>Профилна слика</th>
            <th>Број кредитне картице</th>
            <th>Акције</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let nonadmin of getNonadminsByStatus('DEACTIVATED')">
            <td>{{ nonadmin.username }}</td>
            <td>{{ nonadmin.userType }}</td>
            <td>{{ nonadmin.firstName }}</td>
            <td>{{ nonadmin.lastName }}</td>
            <td>{{ nonadmin.gender }}</td>
            <td>{{ nonadmin.address }}</td>
            <td>{{ nonadmin.phoneNumber }}</td>
            <td>{{ nonadmin.email }}</td>
            <td>
              <div class="profile-preview mx-auto">
                <img
                  *ngIf="nonadmin.profilePicturePath"
                  [src]="getImageUrl(nonadmin.profilePicturePath)"
                  alt="Профилна слика"
                >
              </div>
            </td>
            <td>{{ getCreditCardNumberDisplay(nonadmin.creditCardNumberLast4Digits) }}</td>
            <td>
              <button class="btn btn-success btn-sm" (click)="reactivateNonadmin(nonadmin.id)">Поново активирај</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="mt-5">
    <h4>
      <span class="badge badge-rejected text-dark text-wrap text-break">Одбијени захтеви</span>
    </h4>
    <div class="table-responsive">
      <table class="table table-bordered table-hover align-middle table-rejected">
        <thead>
          <tr>
            <th>Корисничко име</th>
            <th>Тип корисника</th>
            <th>Име</th>
            <th>Презиме</th>
            <th>Пол</th>
            <th>Адреса</th>
            <th>Контакт телефон</th>
            <th>Е-мејл</th>
            <th>Профилна слика</th>
            <th>Број кредитне картице</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let nonadmin of getNonadminsByStatus('REJECTED')">
            <td>{{ nonadmin.username }}</td>
            <td>{{ nonadmin.userType }}</td>
            <td>{{ nonadmin.firstName }}</td>
            <td>{{ nonadmin.lastName }}</td>
            <td>{{ nonadmin.gender }}</td>
            <td>{{ nonadmin.address }}</td>
            <td>{{ nonadmin.phoneNumber }}</td>
            <td>{{ nonadmin.email }}</td>
            <td>
              <div class="profile-preview mx-auto">
                <img
                  *ngIf="nonadmin.profilePicturePath"
                  [src]="getImageUrl(nonadmin.profilePicturePath)"
                  alt="Профилна слика"
                >
              </div>
            </td>
            <td>{{ getCreditCardNumberDisplay(nonadmin.creditCardNumberLast4Digits) }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
<div class="container mt-4">
  <h2 class="text-center text-break">Администратор - Управљање викендицама</h2>
  <div class="table-responsive mt-3">
    <table class="table table-bordered bg-all-cottages table-cottage">
      <thead>
        <tr>
          <th>Назив</th>
          <th>Место</th>
          <th>Блокирање</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let cottage of cottages"
        [class.bg-blocked]="isBlocked(cottage)">
          <td>{{ cottage.name }}</td>
          <td>{{ cottage.location }}</td>
          <td>
            <button *ngIf="badRatings(cottage)" class="btn btn-danger" (click)="block(cottage)">Блокирај</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
